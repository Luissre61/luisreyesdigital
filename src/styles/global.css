@import "tailwindcss";

/* ============================================
   ESTILOS BASE
   ============================================ */
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Atkinson Hyperlegible', sans-serif;
  margin: 0;
  padding: 0;
}

.sr-only {
  border: 0;
  padding: 0;
  margin: 0;
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  white-space: nowrap;
}

/* ============================================
   COMPONENTES REUTILIZABLES
   ============================================ */
/* Botones con efecto hover */
a.boton {
  position: relative;
  z-index: 1;
}

a.boton::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: white;
  transform: scale(0);
  transform-origin: top center;
  transition: transform 0.3s ease-in-out;
  z-index: -1;
  border-radius: inherit;
}

a.boton:hover::before {
  transform: scale(1);
}

/* Iconos sociales */
.social-icons-wrapper a:hover {
  filter: brightness(0.8);
  transform: scale(1.10);
}

/* ============================================
   ANIMACIONES
   ============================================ */
/* Keyframes */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeInRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes gradientFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes pulseGlow { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.5; } }
@keyframes bounceSoft { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
@keyframes spinSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes wave { 0% { transform: scale(0, 0); opacity: 0.5; } 100% { transform: scale(30, 30); opacity: 0; } }

/* Clases de animación */
.animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
.animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
.animate-fade-in-down { animation: fadeInDown 0.8s ease-out forwards; }
.animate-fade-in-left { animation: fadeInLeft 0.6s ease-out forwards; }
.animate-fade-in-right { animation: fadeInRight 0.6s ease-out forwards; }
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-gradient-flow { background-size: 200% auto; animation: gradientFlow 3s ease infinite; }
.animate-pulse-glow { animation: pulseGlow 3s ease-in-out infinite; }
.animate-bounce-soft { animation: bounceSoft 2s ease-in-out infinite; }
.animate-spin-slow { animation: spinSlow 20s linear infinite; }

/* Delays escalonados (simplificados con variable CSS) */
:root {
  --delay-step: 100ms;
}

.animate-delay-100 { animation-delay: calc(var(--delay-step) * 1); }
.animate-delay-200 { animation-delay: calc(var(--delay-step) * 2); }
.animate-delay-300 { animation-delay: calc(var(--delay-step) * 3); }
.animate-delay-400 { animation-delay: calc(var(--delay-step) * 4); }
.animate-delay-500 { animation-delay: calc(var(--delay-step) * 5); }
.animate-delay-600 { animation-delay: calc(var(--delay-step) * 6); }
.animate-delay-700 { animation-delay: calc(var(--delay-step) * 7); }
.animate-delay-800 { animation-delay: calc(var(--delay-step) * 8); }
.animate-delay-900 { animation-delay: calc(var(--delay-step) * 9); }
.animate-delay-1000 { animation-delay: calc(var(--delay-step) * 10); }

/* Duración personalizada */
.animate-duration-700 { animation-duration: 700ms; }
.animate-duration-1000 { animation-duration: 1000ms; }
.animate-duration-1500 { animation-duration: 1500ms; }
.animate-duration-2000 { animation-duration: 2000ms; }
.animate-duration-3000 { animation-duration: 3000ms; }

/* ============================================
   EFECTOS Y UTILIDADES
   ============================================ */
.touch-feedback:active { transform: scale(0.97); transition: transform 0.1s ease; }
.touch-feedback-sm:active { transform: scale(0.99); transition: transform 0.1s ease; }

.wave-effect { position: relative; overflow: hidden; }
.wave-effect:active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.5);
  opacity: 0;
  border-radius: 100%;
  transform: scale(0, 0) translate(-50%);
  transform-origin: 50% 50%;
  animation: wave 0.5s ease-out;
}

.img-load-fade { opacity: 0; transition: opacity 0.5s ease; }
.img-load-fade.loaded { opacity: 1; }

.animate-on-mobile {
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ============================================
   MEDIA QUERIES UNIFICADAS
   ============================================ */
@media (max-width: 768px) {
  /* Espaciado para iconos sociales */
  .social-icons-wrapper {
    gap: 0.5rem;
  }
  
  /* Deshabilitar hover problemático */
  .hover\:shadow-xl:hover,
  .hover\:-translate-y-1:hover,
  .hover\:border-blue-200:hover,
  .hover\:text-blue-600:hover,
  .group:hover .group-hover\:scale-105,
  .group:hover .group-hover\:opacity-50,
  .group:hover .group-hover\:animate-none {
    transform: none;
    box-shadow: none;
    border-color: inherit;
    color: inherit;
    opacity: 1;
    animation-play-state: running;
  }
  
  /* Mejorar elementos táctiles */
  button,
  a[href],
  .cursor-pointer,
  .touch-feedback {
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
    touch-action: manipulation;
  }
  
  /* Optimizar blur */
  .blur-3xl {
    filter: blur(24px);
    -webkit-filter: blur(24px);
  }
  
  /* Efecto táctil unificado */
  .touch-feedback:active,
  .mobile-active:active,
  .touch-feedback.active-touch,
  .mobile-active.active-touch {
    border-color: #93c5fd !important;
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.03), 
      rgba(6, 182, 212, 0.03)
    ) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 
                0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  }
  
  /* Efectos específicos para tarjetas */
  .touch-feedback:active .group-hover\:opacity-100,
  .mobile-active:active .group-hover\:opacity-100,
  .touch-feedback.active-touch .group-hover\:opacity-100,
  .mobile-active.active-touch .group-hover\:opacity-100 {
    opacity: 1 !important;
  }
  
  .touch-feedback:active .group-hover\:scale-110,
  .mobile-active:active .group-hover\:scale-110,
  .touch-feedback.active-touch .group-hover\:scale-110,
  .mobile-active.active-touch .group-hover\:scale-110 {
    transform: scale(1.1) !important;
  }
  
  /* Animaciones escalonadas simplificadas */
  .stagger-animation > * {
    animation-delay: calc(var(--index, 0) * 150ms);
  }
}

@media (min-width: 769px) {
  /* Suavizar transiciones hover */
  .group-hover\:scale-110 { transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1); }
  .group-hover\:opacity-50 { transition: opacity 0.5s ease; }
  .group-hover\:animate-none { transition: animation 0.3s ease; }
  
  /* Hover normal para desktop */
  .touch-feedback:hover,
  .mobile-active:hover {
    background-color: #1e3a8a !important;
    color: white !important;
    border-color: #93c5fd !important;
    transform: translateY(-2px) !important;
  }
}

/* ============================================
   PREFERENCIAS DE REDUCIR MOVIMIENTO
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  /* Deshabilitar todas las animaciones */
  [class*="animate-"],
  .mobile-float,
  .wave-effect:active::after {
    animation: none !important;
  }
  
  .img-load-fade {
    opacity: 1;
    transition: none;
  }
  
  .touch-feedback:active,
  .touch-feedback-sm:active {
    transform: none;
  }
}