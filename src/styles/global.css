@import "tailwindcss";

/* ============================================
   ESTILOS BASE
   ============================================ */
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Atkinson Hyperlegible', sans-serif;
  margin: 0;
  padding: 0;
}

.sr-only {
  border: 0;
  padding: 0;
  margin: 0;
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  white-space: nowrap;
}

/* ============================================
   COMPONENTES REUTILIZABLES
   ============================================ */
/* Botones con efecto hover */
a.boton {
  position: relative;
  z-index: 1;
}

a.boton::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: white;
  transform: scale(0);
  transform-origin: top center;
  transition: transform 0.3s ease-in-out;
  z-index: -1;
  border-radius: inherit;
}

a.boton:hover::before {
  transform: scale(1);
}

/* Iconos sociales */
.social-icons-wrapper a:hover {
  filter: brightness(0.8);
  transform: scale(1.10);
}

/* ============================================
   ANIMACIONES
   ============================================ */
/* Keyframes */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeInRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes gradientFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes pulseGlow { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.5; } }
@keyframes bounceSoft { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
@keyframes float-drift {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
    33% { transform: translateY(-8px) translateX(3px); opacity: 0.5; }
    66% { transform: translateY(4px) translateX(-3px); opacity: 0.4; }
}
@keyframes wave { 0% { transform: scale(0, 0); opacity: 0.5; } 100% { transform: scale(30, 30); opacity: 0; } }

/* Clases de animación */
.animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
.animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
.animate-fade-in-down { animation: fadeInDown 0.8s ease-out forwards; }
.animate-fade-in-left { animation: fadeInLeft 0.6s ease-out forwards; }
.animate-fade-in-right { animation: fadeInRight 0.6s ease-out forwards; }
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-gradient-flow { background-size: 200% auto; animation: gradientFlow 3s ease infinite; }
.animate-pulse-glow { animation: pulseGlow 3s ease-in-out infinite; }
.animate-bounce-soft { animation: bounceSoft 2s ease-in-out infinite; }
.animate-float-slow { animation: float-drift 15s ease-in-out infinite; }
.animate-float-medium { animation: float-drift 12s ease-in-out infinite; }
.animate-float-fast { animation: float-drift 9s ease-in-out infinite; }

/* Delays escalonados (simplificados con variable CSS) */
:root {
  --delay-step: 100ms;
}

.animate-delay-100 { animation-delay: calc(var(--delay-step) * 1); }
.animate-delay-200 { animation-delay: calc(var(--delay-step) * 2); }
.animate-delay-300 { animation-delay: calc(var(--delay-step) * 3); }
.animate-delay-400 { animation-delay: calc(var(--delay-step) * 4); }
.animate-delay-500 { animation-delay: calc(var(--delay-step) * 5); }
.animate-delay-600 { animation-delay: calc(var(--delay-step) * 6); }
.animate-delay-700 { animation-delay: calc(var(--delay-step) * 7); }
.animate-delay-800 { animation-delay: calc(var(--delay-step) * 8); }
.animate-delay-900 { animation-delay: calc(var(--delay-step) * 9); }
.animate-delay-1000 { animation-delay: calc(var(--delay-step) * 10); }

/* Duración personalizada */
.animate-duration-700 { animation-duration: 700ms; }
.animate-duration-1000 { animation-duration: 1000ms; }
.animate-duration-1500 { animation-duration: 1500ms; }
.animate-duration-2000 { animation-duration: 2000ms; }
.animate-duration-3000 { animation-duration: 3000ms; }

/* ============================================
   EFECTOS Y UTILIDADES
   ============================================ */
.touch-feedback:active { transform: scale(0.97); transition: transform 0.1s ease; }
.touch-feedback-sm:active { transform: scale(0.99); transition: transform 0.1s ease; }

.wave-effect { position: relative; overflow: hidden; }
.wave-effect:active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.5);
  opacity: 0;
  border-radius: 100%;
  transform: scale(0, 0) translate(-50%);
  transform-origin: 50% 50%;
  animation: wave 0.5s ease-out;
}

.img-load-fade { opacity: 0; transition: opacity 0.5s ease; }
.img-load-fade.loaded { opacity: 1; }

.animate-on-mobile {
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ============================================
   MEDIA QUERIES UNIFICADAS
   ============================================ */
@media (max-width: 768px) {
  /* Espaciado para iconos sociales */
  .social-icons-wrapper {
    gap: 0.5rem;
  }
  
  /* Deshabilitar hover problemático */
  .hover\:shadow-xl:hover,
  .hover\:-translate-y-1:hover,
  .hover\:border-blue-200:hover,
  .hover\:text-blue-600:hover,
  .group:hover .group-hover\:scale-105,
  .group:hover .group-hover\:opacity-50,
  .group:hover .group-hover\:animate-none {
    transform: none;
    box-shadow: none;
    border-color: inherit;
    color: inherit;
    opacity: 1;
    animation-play-state: running;
  }
  
  /* Mejorar elementos táctiles */
  button,
  a[href],
  .cursor-pointer,
  .touch-feedback {
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
    touch-action: manipulation;
  }
  
  /* Optimizar blur */
  .blur-3xl {
    filter: blur(24px);
    -webkit-filter: blur(24px);
  }
  
  /* ============================================
     FEATURECARDS (DEBEN CAMBIAR FONDO Y TEXTO)
     ============================================ */
  /* Efecto táctil para FeatureCards - CON cambio de fondo */
  .touch-feedback:not(.tech-card):active,
  .touch-feedback:not(.tech-card).active-touch,
  .mobile-active:not(.tech-card):active,
  .mobile-active:not(.tech-card).active-touch {
    border-color: #93c5fd !important;
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.03), 
      rgba(6, 182, 212, 0.03)
    ) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 
                0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  }
  
  /* FeatureCards específicas - CON cambio de fondo completo y texto blanco */
  .touch-feedback.active-touch:not(.tech-card):not(.glass),
  .mobile-active.active-touch:not(.tech-card):not(.glass) {
    background-color: #1e3a8a !important; /* bg-blue-900 */
    color: white !important;
    border-color: #93c5fd !important; /* border-blue-300 */
    transform: translateY(-2px) !important;
  }
  
  /* CAMBIO CRÍTICO: Texto de párrafos en FeatureCards a blanco */
  .touch-feedback.active-touch:not(.tech-card):not(.glass) p,
  .mobile-active.active-touch:not(.tech-card):not(.glass) p,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .text-gray-600,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .text-gray-700,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .text-gray-800,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .text-gray-600,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .text-gray-700,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .text-gray-800 {
    color: white !important;
  }
  
  /* Títulos y encabezados en FeatureCards a blanco */
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h1,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h2,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h3,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h4,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h5,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) h6,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h1,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h2,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h3,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h4,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h5,
  .mobile-active.active-touch:not(.tech-card):not(.glass) h6 {
    color: white !important;
  }
  
  /* Textos específicos con clases group-hover */
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-700,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-600,
  .touch-feedback.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-800,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-700,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-600,
  .mobile-active.active-touch:not(.tech-card):not(.glass) .group-hover\:text-gray-800 {
    color: white !important;
  }

  /* ESTILOS ACTIVOS PARA TARJETAS GLASS (Transparencia mantenida) */
  .touch-feedback.active-touch.glass,
  .mobile-active.active-touch.glass {
    border-color: #4ade80 !important; /* green-400 */
    box-shadow: 0 0 15px rgba(74,222,128,0.4) !important;
    transform: translateY(-2px) !important;
  }
  
  /* ============================================
     TARJETAS DE TECNOLOGÍA (NO deben cambiar fondo)
     ============================================ */
  /* Efecto táctil para tarjetas de tecnología - SIN cambio de fondo */
  .tech-card.touch-feedback:active,
  .tech-card.touch-feedback.active-touch,
  .tech-card.mobile-active:active,
  .tech-card.mobile-active.active-touch {
    /* Mantener efectos visuales pero NO el cambio de fondo */
    border-color: rgba(59, 130, 246, 0.4) !important; /* hover:border-blue-400/40 */
    transform: translateY(-2px) !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 
                0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
    
    /* PREVENIR CAMBIO DE FONDO - mantener gradiente original */
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.95)) !important;
    background-color: transparent !important;
  }
  
  /* Efectos específicos para tarjetas de tecnología */
  .tech-card.touch-feedback:active .group-hover\:opacity-100,
  .tech-card.mobile-active:active .group-hover\:opacity-100,
  .tech-card.touch-feedback.active-touch .group-hover\:opacity-100,
  .tech-card.mobile-active.active-touch .group-hover\:opacity-100 {
    opacity: 1 !important;
  }
  
  .tech-card.touch-feedback:active .group-hover\:scale-110,
  .tech-card.mobile-active:active .group-hover\:scale-110,
  .tech-card.touch-feedback.active-touch .group-hover\:scale-110,
  .tech-card.mobile-active.active-touch .group-hover\:scale-110 {
    transform: scale(1.1) !important;
  }
  
  /* Cambiar color de texto al tocar en tarjetas de tecnología */
  .tech-card.touch-feedback:active .group-hover\:text-blue-700,
  .tech-card.mobile-active:active .group-hover\:text-blue-700,
  .tech-card.touch-feedback.active-touch .group-hover\:text-blue-700,
  .tech-card.mobile-active.active-touch .group-hover\:text-blue-700 {
    color: #1d4ed8 !important; /* text-blue-700 */
  }
  
  .tech-card.touch-feedback:active .group-hover\:text-orange-700,
  .tech-card.mobile-active:active .group-hover\:text-orange-700,
  .tech-card.touch-feedback.active-touch .group-hover\:text-orange-700,
  .tech-card.mobile-active.active-touch .group-hover\:text-orange-700 {
    color: #c2410c !important; /* text-orange-700 */
  }
  
  .tech-card.touch-feedback:active .group-hover\:text-purple-700,
  .tech-card.mobile-active:active .group-hover\:text-purple-700,
  .tech-card.touch-feedback.active-touch .group-hover\:text-purple-700,
  .tech-card.mobile-active.active-touch .group-hover\:text-purple-700 {
    color: #7c3aed !important; /* text-purple-700 */
  }
  
  .tech-card.touch-feedback:active .group-hover\:text-gray-700,
  .tech-card.mobile-active:active .group-hover\:text-gray-700,
  .tech-card.touch-feedback.active-touch .group-hover\:text-gray-700,
  .tech-card.mobile-active.active-touch .group-hover\:text-gray-700 {
    color: #374151 !important; /* text-gray-700 */
  }
  
  /* Animaciones escalonadas simplificadas */
  .stagger-animation > * {
    animation-delay: calc(var(--index, 0) * 150ms);
  }
}

@media (min-width: 769px) {
  /* Suavizar transiciones hover */
  .group-hover\:scale-110 { transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1); }
  .group-hover\:opacity-50 { transition: opacity 0.5s ease; }
  .group-hover\:animate-none { transition: animation 0.3s ease; }
  
  /* Hover normal para desktop - FeatureCards */
  .touch-feedback:not(.tech-card):hover,
  .mobile-active:not(.tech-card):hover {
    background-color: #1e3a8a !important; /* hover:bg-blue-900 */
    color: white !important;
    border-color: #93c5fd !important;
    transform: translateY(-2px) !important;
  }
  
  /* Texto blanco en hover para FeatureCards en desktop */
  .touch-feedback:not(.tech-card):hover p,
  .mobile-active:not(.tech-card):hover p,
  .touch-feedback:not(.tech-card):hover .text-gray-600,
  .touch-feedback:not(.tech-card):hover .text-gray-700,
  .touch-feedback:not(.tech-card):hover .text-gray-800,
  .mobile-active:not(.tech-card):hover .text-gray-600,
  .mobile-active:not(.tech-card):hover .text-gray-700,
  .mobile-active:not(.tech-card):hover .text-gray-800 {
    color: white !important;
  }
  
  /* Títulos en FeatureCards en hover para desktop */
  .touch-feedback:not(.tech-card):hover h1,
  .touch-feedback:not(.tech-card):hover h2,
  .touch-feedback:not(.tech-card):hover h3,
  .touch-feedback:not(.tech-card):hover h4,
  .touch-feedback:not(.tech-card):hover h5,
  .touch-feedback:not(.tech-card):hover h6,
  .mobile-active:not(.tech-card):hover h1,
  .mobile-active:not(.tech-card):hover h2,
  .mobile-active:not(.tech-card):hover h3,
  .mobile-active:not(.tech-card):hover h4,
  .mobile-active:not(.tech-card):hover h5,
  .mobile-active:not(.tech-card):hover h6 {
    color: white !important;
  }
  
  /* Hover normal para desktop - Tarjetas de tecnología */
  .tech-card:hover {
    /* Los efectos hover ya están definidos en las clases de Tailwind en el HTML */
    border-color: rgba(59, 130, 246, 0.4) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 
                0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  }
}

/* ============================================
   PREFERENCIAS DE REDUCIR MOVIMIENTO
   ============================================ */

@keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

.animate-scroll-infinite {
    animation: scroll 40s linear infinite;
    width: max-content;
}

/* Animación de desplazamiento infinito */
.carousel-track {
    will-change: transform;
    backface-visibility: hidden;
}

.carousel-group {
    flex-shrink: 0;
}

/* Pausar animación al hacer hover (opcional) */
.animate-scroll-infinite:hover {
    animation-play-state: paused;
}

/* Ajustes responsivos para el carrusel */
@media (max-width: 640px) {
    .carousel-slide > div {
        width: 200px !important;
    }
    .animate-scroll-infinite {
        animation-duration: 25s; /* Más rápido en móvil */
    }
}

@media (min-width: 641px) and (max-width: 1024px) {
    .carousel-slide > div {
        width: 240px !important;
    }
}

/* Ajuste para preferencias de movimiento reducido */
@media (prefers-reduced-motion: reduce) {
    .animate-scroll-infinite {
        animation: none;
    }
}
