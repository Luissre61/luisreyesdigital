---
export interface Props {
	title: string;
	description: string;
	icon?: string; // Emoji
	class?: string; // Para pasar clases adicionales como el color de fondo
	variant?: 'default' | 'glass'; // Nueva propiedad para variantes
}

const { title, description, icon, variant = 'default' } = Astro.props;

// Definir clases base según la variante
const baseClasses = variant === 'glass'
	? "group bg-white/5 backdrop-blur-sm p-4 sm:p-6 rounded-xl shadow-sm border border-white/10 transition-all duration-300 hover:-translate-y-2 w-full h-full text-gray-100 hover:border-green-400 hover:shadow-[0_0_15px_rgba(74,222,128,0.4)] [&.active-touch]:-translate-y-2 [&.active-touch]:border-green-400 [&.active-touch]:shadow-[0_0_15px_rgba(74,222,128,0.4)]"
	: "group bg-gray-50 p-4 sm:p-6 rounded-lg shadow-md border border-gray-200 transition-all duration-300 hover:-translate-y-2 hover:bg-blue-900 w-full h-full text-gray-900 hover:text-white [&.active-touch]:-translate-y-2 [&.active-touch]:bg-blue-900 [&.active-touch]:text-white";
---

<!-- Agrega las clases touch-feedback y mobile-active al div principal -->
<div
	class:list={[
		baseClasses,
		variant === 'glass' ? 'glass' : '', // Clase identificadora para CSS global
		"touch-feedback mobile-active", // ← AQUÍ ESTÁ EL CAMBIO
		Astro.props.class,
	]}
	ontouchstart="this.classList.add('active-touch')"
	ontouchend="setTimeout(() => this.classList.remove('active-touch'), 300)"
	ontouchcancel="this.classList.remove('active-touch')"
	style="-webkit-tap-highlight-color: transparent;"
>
	{icon ? (
		<div class="flex items-center gap-4 mb-4">
			<div class:list={["w-16 h-16 rounded-full flex items-center justify-center shadow-md border flex-shrink-0", variant === 'glass' ? "bg-white/10 border-white/20 text-white" : "bg-white border-gray-200"]}>
				<span class="text-3xl">{icon}</span>
			</div>
			<h2 class:list={["min-w-0 flex-grow text-base font-semibold md:text-xl", variant === 'default' && "group-hover:text-white group-[.active-touch]:text-white"]}>
				{title}
			</h2>
		</div>
	) : (
		<h2 class:list={["text-base md:text-2xl font-semibold", variant === 'default' && "group-hover:text-white group-[.active-touch]:text-white"]}>{title}</h2>
	)}
	<p class:list={["mt-1 sm:mt-4 text-sm md:text-lg", variant === 'glass' ? "text-gray-300" : "text-gray-600 group-hover:text-white group-[.active-touch]:text-white"]}>
		{description}
	</p>
</div>